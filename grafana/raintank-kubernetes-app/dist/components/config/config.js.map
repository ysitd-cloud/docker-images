{"version":3,"sources":["../../../src/components/config/config.js"],"names":["ConfigCtrl","$scope","$injector","$q","enabled","appEditCtrl","setPostUpdateHook","postUpdate","bind","appModel","resolve","importDashboards","then","url","message","templateUrl"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;4BAAaA,U;AACX;AACA,4BAAYC,MAAZ,EAAoBC,SAApB,EAA+BC,EAA/B,EAAmC;AAAA;;AACjC,eAAKA,EAAL,GAAUA,EAAV;AACA,eAAKC,OAAL,GAAe,KAAf;AACA,eAAKC,WAAL,CAAiBC,iBAAjB,CAAmC,KAAKC,UAAL,CAAgBC,IAAhB,CAAqB,IAArB,CAAnC;AACD;;;;uCAEY;AAAA;;AACX,gBAAI,CAAC,KAAKC,QAAL,CAAcL,OAAnB,EAA4B;AAC1B,qBAAO,KAAKD,EAAL,CAAQO,OAAR,EAAP;AACD;AACD,mBAAO,KAAKL,WAAL,CAAiBM,gBAAjB,GAAoCC,IAApC,CAAyC,YAAM;AACpD,oBAAKR,OAAL,GAAe,IAAf;AACA,qBAAO;AACLS,qBAAK,+CADA;AAELC,yBAAS;AAFJ,eAAP;AAID,aANM,CAAP;AAOD;;;;;;;;AAEHd,iBAAWe,WAAX,GAAyB,+BAAzB","file":"config.js","sourcesContent":["export class ConfigCtrl {\n  /** @ngInject */\n  constructor($scope, $injector, $q) {\n    this.$q = $q;\n    this.enabled = false;\n    this.appEditCtrl.setPostUpdateHook(this.postUpdate.bind(this));\n  }\n\n  postUpdate() {\n    if (!this.appModel.enabled) {\n      return this.$q.resolve();\n    }\n    return this.appEditCtrl.importDashboards().then(() => {\n      this.enabled = true;\n      return {\n        url: \"plugins/raintank-kubernetes-app/page/clusters\",\n        message: \"Kubernetes App enabled!\"\n      };\n    });\n  }\n}\nConfigCtrl.templateUrl = 'components/config/config.html';\n"]}